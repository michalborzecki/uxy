<html>
<head>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <title>Słówko</title>
</head>
<body>

<div class="right-panel">

  <div class="black-box upper-box">
    <div class="upper-part"><span class="fancy-text">Kategorie słówka</span><i (click)="addMode = !addMode" class="fas fa-plus add-icon"></i></div>

    <div *ngIf="addMode" style="margin-top: 10px;">
      <h4 style="font-family: 'Open Sans'; font-weight: lighter;font-size: 1em; letter-spacing: 1px; text-align: center; margin-bottom: 10px">
        Wybierz kategorię do której chcesz zakwalifikować słówko
      </h4>
      <ul id="small-category" class="categories" style="margin-bottom: 10px">
          <span *ngFor="let cat of appState.categories">
            <li  (click)="addCategory(cat)" class="panel-item categories-item">
              <a class="category-link"><span class="category-text">{{cat.name}}</span></a>
            </li>
          </span>
      </ul>
    </div>

    <div *ngIf="!addMode" class="bottom-part">
      <ul class="categories" >
        <li class="panel-item categories-item" *ngFor="let category of wordCategories">
          <a [routerLink]="['/category/' + category.id]" class="category-link"><span class="category-text">{{category.name}}</span></a>
          <i *ngIf="wordCategories.length > 1" (click)="onRemoveCategory(category)" class="far fa-trash-alt"></i>
        </li>
      </ul>
    </div>

  </div>

</div>

<div *ngIf="dataLoaded" class="content">
  <div class="top-panel">
    <h1 *ngIf="!editMode" class="panel-title editable">{{word.word}}
      <i *ngIf="categoryId != 0" (click)="editMode = !editMode" class="fas fa-pencil-alt pencil-icon"></i>
      <i (click)="deleteWord()"class="far fa-trash-alt"></i>
    </h1>
    <h1 *ngIf="editMode" class="panel-title editable">
      <div *ngIf="editMode" class="search-input">
        <input *ngIf="editMode" (keyup)="onUpdate($event)" type="text" class="main-search"
               [ngModel]="word.word" style="height: 40px; font-size: 100%; margin: 0; padding: 0; font-family: AmaticSC-Bold">
      </div>
      <i (click)="deleteWord()" class="far fa-trash-alt"></i>
    </h1>
    <ul class="panel-actions"></ul>
  </div>

  <div class="word-content content-block">
    <div class="word-photo">
      <img src="{{word.imageUrl}}">
    </div>
    <div class="translations-header">Tłumaczenia<i *ngIf="!wordAddMode" (click)="wordAddMode = !wordAddMode" class="fas fa-plus add-icon"></i></div>
    <div class="word-descriptions">

      <!--addmode-->
      <div class="word-translation editable" *ngIf="wordAddMode">
        <div class="translation-category">
          <input type="text" [ngModel]="translationToAdd.domain">
          <i class="fas fa-save save-icon"></i>
          <i (click)="wordAddMode = !wordAddMode" class="fas fa-arrow-alt-circle-left arrow-alt-circle-left-icon"></i>
        </div>
        <div class="original-word translation-header">
          <input type="text" [ngModel]="translationToAdd.word">
        </div>
        <div class="translated-word translation-header">
          <input type="text" [ngModel]="translationToAdd.wordTranslation">
        </div>
        <div class="original-word">
          <textarea ref-textarea [(ngModel)]="translationToAdd.example" rows="4"></textarea>
        </div>
        <div class="translated-word">
          <textarea ref-textarea [(ngModel)]="translationToAdd.exampleTranslation" rows="4"></textarea>
        </div>
      </div>

      <div *ngIf="!wordAddMode">
        <div class="word-translation editable" *ngFor="let translation of wordTranslations; let i = index">
          <div *ngIf="!translation.edit" class="translation-category">{{i+1}}. {{translation.domain}}
            <i (click)="translation.edit = !translation.edit" class="fas fa-pencil-alt pencil-icon"></i>
            <i class="far fa-trash-alt"></i></div>
          <div *ngIf="!translation.edit" class="original-word translation-header">{{translation.word}}</div>
          <div *ngIf="!translation.edit" class="translated-word translation-header">{{translation.wordTranslation}}</div>
          <div *ngIf="!translation.edit" class="original-word">{{translation.example}}</div>
          <div *ngIf="!translation.edit" class="translated-word">{{translation.exampleTranslation}}</div>

          <!--editmode-->
          <div *ngIf="translation.edit" class="translation-category">
            <input type="text" [ngModel]="translation.domain">
            <i class="fas fa-save save-icon"></i>
            <i (click)="translation.edit = !translation.edit" class="fas fa-arrow-alt-circle-left arrow-alt-circle-left-icon"></i>
          </div>
          <div *ngIf="translation.edit" class="original-word translation-header">
            <input type="text" [ngModel]="translation.word">
          </div>
          <div *ngIf="translation.edit" class="translated-word translation-header">
            <input type="text" [ngModel]="translation.wordTranslation">
          </div>
          <div *ngIf="translation.edit" class="original-word">
            <textarea ref-textarea [(ngModel)]="translation.example" rows="4"></textarea>
          </div>
          <div *ngIf="translation.edit" class="translated-word">
            <textarea ref-textarea [(ngModel)]="translation.exampleTranslation" rows="4"></textarea>
          </div>
        </div>
      </div>



    </div>
  </div>

</div>

</body>
</html>
